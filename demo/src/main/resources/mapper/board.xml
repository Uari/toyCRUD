<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 
<mapper namespace="com.mybatis.mapper.BoardMapper">
	<!-- <insert id="noticeInsert" parameterType="java.util.Map">
		insert into  notice(n_no,  n_title, n_content, n_writer)
		values(seq_notice_no.nextval, #{n_title}, #{n_content}, #{n_writer})
	</insert>
	<update id="noticeUpdate" parameterType="map">
		update notice
		      set n_title = #{n_title}
		          ,  n_content = #{n_content}
		          ,  n_writer = #{n_writer}
		  where n_no = #{n_no}
	</update>
	<delete id="noticeDelete" parameterType="map">
		delete from notice where n_no = #{n_no}  	
	</delete> -->
	<select id="boardList" parameterType="map"  resultType = "com.example.demo.vo.BoardVO">
		select b_no, b_title, b_content, b_writer from board
		<where>
			<if test="b_no!=null">AND b_no=#{b_no}</if>
			<if test="gubun!=null">
				<choose>
					<when test='gubun.equals("b_title")'>
						AND b_title LIKE '%'||#{keyword}||'%'
					</when>
					<when test='gubun.equals("b_content")'>
						AND b_content LIKE '%'||#{keyword}||'%'
					</when>
					<when test='gubun.equals("b_writer")'>
						AND b_writer LIKE '%'||#{keyword}||'%'
					</when>
				</choose>
			</if>
		</where>
		order by b_no desc
	</select> 
</mapper>